# Copyright 2025 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0

# Add 'root' label to any root file changes
# Quotation marks are required for the leading asterisk
root:
  - changed-files:
      - any-glob-to-any-file: "*"

bazel:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.bazel"
          - "**/*.bzl"
          - "**/.bazel*"
          - "**/MODULE.bazel*"
          - "**/maven_install.json"

java:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.java"
          - "java/**"
          - "**/maven_install.json"

kotlin:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.kt"

rust:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.rs"
          - "**/Cargo.toml"
          - "**/Cargo.lock"
          - "rs/**"

go:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.go"
          - "**/go.mod"
          - "**/go.sum"
          - "go/**"

python:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.py"
          - "**/pyproject.toml"
          - "python/**"

js:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.js"
          - "**/*.jsx"
          - "**/*.ts"
          - "**/*.tsx"
          - "**/package.json"
          - "js/**"

config:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.toml"
          - "**/*.yaml"
          - "**/*.yml"
          - "**/.editorconfig"
          - "**/.github/**"
          - "**/.gitignore"
          - "**/.npmignore"
          - "**/.npmrc"
          - "**/.prettierignore"
          - "**/package.json"
          - "**/tsconfig.*.json"
          - "**/tsconfig.json"
          - "**/typedoc.json"

documentation:
  - changed-files:
      - any-glob-to-any-file:
          - "**/*.md"
          - "docs/**"

dotpromptz:
  - changed-files:
      - any-glob-to-any-file:
          - "**/dotpromptz/**"

promptly:
  - changed-files:
      - any-glob-to-any-file:
          - "rs/promptly/**"

vscode:
  - changed-files:
      - any-glob-to-any-file:
          - "packages/vscode/**"

emacs:
  - changed-files:
      - any-glob-to-any-file:
          - "packages/emacs/**"

vim:
  - changed-files:
      - any-glob-to-any-file:
          - "packages/vim/**"

jetbrains:
  - changed-files:
      - any-glob-to-any-file:
          - "packages/jetbrains/**"

treesitter:
  - changed-files:
      - any-glob-to-any-file:
          - "packages/treesitter/**"

editors:
  - changed-files:
      - any-glob-to-any-file:
          - "packages/vscode/**"
          - "packages/emacs/**"
          - "packages/vim/**"
          - "packages/jetbrains/**"
          - "packages/treesitter/**"

npm:
  - changed-files:
      - any-glob-to-any-file:
          - "packages/promptly/**"
          - "packages/promptly-*/**"

# Automatically add labels to any PR also based on branch naming conventions.
build:
  - head-branch: ['^.*/build/.*', 'build']

chore:
  - head-branch: ['^.*/chore/.*', 'chore']

ci:
  - head-branch: ['^.*/ci/.*', 'ci']

feature:
  - head-branch: ['^.*/feat/.*', 'feature']

fix:
  - head-branch: ['^.*/fix/.*', 'fix']

perf:
  - head-branch: ['^.*/perf/.*', 'perf']

refactor:
  - head-branch: ['^.*/refactor/.*', 'refactor']

style:
  - head-branch: ['^.*/style/.*', 'style']

test:
  - head-branch: ['^.*/test/.*', 'test']

# ==============================================================================
# RELEASE PLEASE LABELS
# ==============================================================================
# Automatically label release PRs created by release-please.
# Branch pattern: release-please--<component>--<path>

release:
  - head-branch: ['^release-please--.*']

# Component-specific release labels
release/dotprompt:
  - head-branch: ['^release-please--dotprompt.*']

release/dotpromptz:
  - head-branch: ['^release-please--dotpromptz--.*']

release/dotpromptz-handlebars:
  - head-branch: ['^release-please--dotpromptz-handlebars--.*']

release/dotprompt-go:
  - head-branch: ['^release-please--dotprompt-go.*']

release/dotprompt-rs:
  - head-branch: ['^release-please--dotprompt-rs.*']

release/dotprompt-java:
  - head-branch: ['^release-please--dotprompt-java.*']

release/vscode:
  - head-branch: ['^release-please--dotprompt-vscode.*']

release/vim:
  - head-branch: ['^release-please--dotprompt-vim.*']

release/emacs:
  - head-branch: ['^release-please--dotprompt-emacs.*']

release/jetbrains:
  - head-branch: ['^release-please--dotprompt-jetbrains.*']

release/monaco:
  - head-branch: ['^release-please--dotprompt-monaco.*']

release/codemirror:
  - head-branch: ['^release-please--dotprompt-codemirror.*']

release/treesitter:
  - head-branch: ['^release-please--tree-sitter-dotprompt.*']

release/promptly:
  - head-branch: ['^release-please--promptly.*']

