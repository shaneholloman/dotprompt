# Copyright 2026 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0

---
model: googleai/gemini-pro
input:
  schema:
    type: object
    properties:
      name: string
      items:
        type: array
        items: string
      context: string
      imageUrl: string
config:
  temperature: 0.7
  topK: 40
  topP: 0.95
---
<<<dotprompt:role:system>>>
You are a helpful AI assistant. You are an expert in {{context}}.
Here are some rules:
{{#each items}}
- {{this}}
{{/each}}

<<<dotprompt:role:user>>>
Hello, my name is {{name}}.
Can you analyze this image?
<<<dotprompt:media:url {{imageUrl}} image/jpeg>>>

<<<dotprompt:role:model>>>
I see an image. Let me think about it.
<<<dotprompt:section thought>>>
The user wants me to analyze the image provided at {{imageUrl}}.
I should look for key details.

<<<dotprompt:role:user>>>
Also, remember our past conversation:
<<<dotprompt:history>>>

Please output the result in JSON format.
{{json this indent=2}}
